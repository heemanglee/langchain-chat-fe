# Phase 5: 세션 공유 + 랜딩 페이지

## 목표

세션 공유(읽기 전용 Public 뷰) 기능과 서비스 랜딩 페이지를 구현한다.

## Part A: 세션 공유

### 의존 API

| Method | Endpoint | Auth | 설명 |
|--------|----------|------|------|
| POST | `/api/v1/sessions/{id}/share` | 소유자 | 공유 링크 생성 |
| DELETE | `/api/v1/sessions/{id}/share` | 소유자 | 공유 취소 |
| GET | `/api/v1/sessions/shared/{token}` | **Public** | 공유 세션 조회 |

### 타입 정의

```typescript
interface ShareResponse {
  share_token: string
  share_url: string
}

interface SharedSession {
  title: string
  messages: SharedMessage[]
}

interface SharedMessage {
  role: 'USER' | 'ASSISTANT' | 'SYSTEM'
  content: string
  citations: Citation[] | null
  created_at: string
}

interface Citation {
  document_name: string
  page?: number
  chunk_text?: string
}
```

### 작업 목록

#### A.1 공유 관리 UI (채팅 헤더)

채팅창 헤더에 공유 버튼을 추가한다.

```
┌───────────────────────────────────────────────┐
│  Q4 실적 분석                    [🔗 공유] [⋮]  │
└───────────────────────────────────────────────┘
```

#### A.2 공유 모달

공유 버튼 클릭 시 표시되는 모달이다.

**비공유 상태:**
```
┌───────────────────────────────────────────┐
│              대화 공유                      │
├───────────────────────────────────────────┤
│                                           │
│  이 대화의 공유 링크를 생성하시겠습니까?      │
│  링크를 가진 누구나 대화 내용을 볼 수 있습니다. │
│                                           │
│    ┌──────────────────────────────────┐   │
│    │        공유 링크 생성              │   │
│    └──────────────────────────────────┘   │
│                                           │
└───────────────────────────────────────────┘
```

**공유 중 상태:**
```
┌───────────────────────────────────────────┐
│              대화 공유                      │
├───────────────────────────────────────────┤
│                                           │
│  🟢 이 대화가 공유되고 있습니다               │
│                                           │
│  ┌────────────────────────────┐ ┌────┐   │
│  │ https://ragos.io/share/... │ │복사 │   │
│  └────────────────────────────┘ └────┘   │
│                                           │
│    ┌──────────────────────────────────┐   │
│    │         공유 중지                  │   │
│    └──────────────────────────────────┘   │
│                                           │
└───────────────────────────────────────────┘
```

#### A.3 공유 세션 뷰 (`/share/:shareToken`)

Public 읽기 전용 페이지이다. 메인 앱과 다른 단순화된 레이아웃을 사용한다.

```
┌──────────────────────────────────────────────────────┐
│  ●RAG.OS     Q4 실적 분석        [RAG.OS 시작하기 →]  │
├──────────────────────────────────────────────────────┤
│                                                      │
│  ┌──────────────────────────────────────────────┐    │
│  │ 👤 Q4 실적에서 매출 증감 추이를 분석해줘         │    │
│  └──────────────────────────────────────────────┘    │
│                                                      │
│  ┌──────────────────────────────────────────────┐    │
│  │ 🤖 Q4 실적 분석 결과입니다.                    │    │
│  │                                              │    │
│  │ ## 매출 추이                                   │    │
│  │ - 전년 대비 15% 증가...                        │    │
│  │                                              │    │
│  │ 📎 출처:                                      │    │
│  │ ├── Q4_Result.pdf (p.3)                      │    │
│  │ └── Q4_Result.pdf (p.7)                      │    │
│  └──────────────────────────────────────────────┘    │
│                                                      │
├──────────────────────────────────────────────────────┤
│  🔒 읽기 전용 모드입니다                               │
├──────────────────────────────────────────────────────┤
│  © 2024 RAG.OS Inc.                                  │
└──────────────────────────────────────────────────────┘
```

**공유 뷰 특성:**
- 사이드바 없음
- 메시지 입력 불가 (비활성화)
- 사용자 개인정보 노출 없음
- 폴더 instructions 노출 없음
- "RAG.OS 시작하기" 버튼 → `/register`로 이동
- 404 처리: 비공유 또는 존재하지 않는 토큰

---

## Part B: 랜딩 페이지

### 작업 목록

#### B.1 랜딩 페이지 구현 (`/`)

`generated-page.html`의 디자인을 React 컴포넌트로 변환한다. 전체 화면 스냅 스크롤 방식의 4-섹션 랜딩 페이지이다.

**섹션 구성:**

##### 섹션 1: Hero

```
┌──────────────────────────────────────────────────────┐
│  ●RAG.OS    라이브러리 에이전트빌더 API문서 요금제  로그인 [대시보드→]│
├──────────────────────────────────────────────────────┤
│                                                      │
│             🟢 스마트 세션 디렉토리 기능 추가           │
│                                                      │
│               당신의 문서를 위한                       │
│               지능형 에이전트                          │
│                                                      │
│       PDF, DOCX, MD 파일을 업로드하세요.               │
│       자동으로 생성된 AI 에이전트가                     │
│       문맥을 파악하고 분류하여 답변합니다.               │
│                                                      │
│          [문서 업로드하기 📤]  [데모 영상 보기 ▶]       │
│                                                      │
└──────────────────────────────────────────────────────┘
```

##### 섹션 2: 문서 라이브러리 & 에이전트 빌더

```
┌──────────────────────────────────────────────────────┐
│                                                      │
│  📚                        ┌─────────────────────┐   │
│                            │  Dashboard Mockup    │   │
│  지식은 보관하고,            │  ┌───┬──────────┐   │   │
│  에이전트는 생성합니다.       │  │Lib│ 파일 목록  │   │   │
│                            │  │   │          │   │   │
│  ✅ 문서 라이브러리           │  │Agt│          │   │   │
│  ✨ 자동 에이전트 빌더        │  └───┴──────────┘   │   │
│                            └─────────────────────┘   │
│                                                      │
└──────────────────────────────────────────────────────┘
```

##### 섹션 3: 기능 그리드

```
┌──────────────────────────────────────────────────────┐
│                                                      │
│           강력한 분류 및 확장성                         │
│     다양한 포맷을 지원하고, 스스로 정리하는 작업 공간     │
│                                                      │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐           │
│  │ 📂        │  │ 📄        │  │ 👥        │           │
│  │ 스마트     │  │ 폭넓은    │  │ 커스텀     │           │
│  │ 세션       │  │ 문서      │  │ 에이전트   │           │
│  │ 디렉토리   │  │ 호환성    │  │ 빌더      │           │
│  └──────────┘  └──────────┘  └──────────┘           │
│                                                      │
└──────────────────────────────────────────────────────┘
```

##### 섹션 4: CTA + Footer

```
┌──────────────────────────────────────────────────────┐
│                                                      │
│               지금 바로                               │
│            나만의 지식 베이스를.                        │
│                                                      │
│     문서를 업로드하고 1분 안에 첫 번째 에이전트와        │
│     대화를 시작해보세요.                               │
│                                                      │
│              [무료로 시작하기 →]                       │
│           🛡 SOC2 보안 인증 서버 저장                   │
│                                                      │
├──────────────────────────────────────────────────────┤
│  © 2024 RAG.OS Inc.    Twitter  GitHub  Discord      │
└──────────────────────────────────────────────────────┘
```

#### B.2 랜딩 페이지 구현 세부사항

**스타일 특성 (generated-page.html 기준):**
- 폰트: Inter (Google Fonts)
- 배경: `zinc-50` (라이트), `zinc-950` (다크)
- 전체 화면 스냅 스크롤 (`snap-y snap-mandatory`)
- 스크롤바 숨김 (`.no-scrollbar`)
- 그라데이션 텍스트: `bg-clip-text bg-gradient-to-b`
- 아이콘: Iconify Solar 아이콘셋

**반응형:**
- 모바일: 싱글 컬럼, 네비게이션 링크 숨김
- 태블릿: 2컬럼 그리드
- 데스크톱: 풀 레이아웃

**CTA 버튼 동작:**
- "문서 업로드하기" → `/register` (비로그인) / `/chat` (로그인)
- "대시보드" → `/chat`
- "무료로 시작하기" → `/register`
- "로그인" → `/login`

## 완료 기준

### 공유 기능
- [ ] 공유 링크 생성/복사 기능
- [ ] 공유 중지 기능
- [ ] 공유 뷰 (`/share/:token`) 정상 렌더링
- [ ] 공유 뷰 마크다운 + Citation 표시
- [ ] 비공유/존재하지 않는 토큰 404 처리
- [ ] 공유 뷰에서 개인정보 노출 없음

### 랜딩 페이지
- [ ] 4-섹션 스냅 스크롤 동작
- [ ] `generated-page.html`과 동일한 디자인
- [ ] 반응형 레이아웃
- [ ] CTA 버튼 동작 (로그인 상태별 분기)
- [ ] 라이트/다크 모드 대응
